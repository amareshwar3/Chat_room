<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Simple real-time chat room using Node.js and Socket.IO">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Room</title>
    <style>
    .dark-mode {
        background-color: #121212 !important;
        color: #f0f0f0 !important;
    }
    </style>

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/styles.css">
</head>


<body class="ltr text-center">
    <button id="toggleDarkMode" class="btn btn-outline-dark m-2">ðŸŒ™ Toggle Dark Mode</button>
  <form id="nicknameForm" class="form-signin">
    <h1 class="h3 mb-3 font-weight-normal">
      Please enter your username
    </h1>
    <label for="nicknameInput" class="sr-only">Username</label>
    <input type="text" name="nickname" id="nicknameInput" class="form-control" placeholder="Username" required autofocus />
    <!-- Chat Room Selection -->
    <label class="mt-2" for="chatrooms">Choose a Chat Room</label>
    <br />
    <select name="chatrooms" id="chatrooms">
      <optgroup>
        <option value="room1">Chat Room 1</option>
        <option value="room2">Chat Room 2</option>
        <option value="room3">Chat Room 3</option>
      </optgroup>
    </select>
    <button class="mt-3 btn-lg btn-primary btn-block" type="submit">
      Enter Chat
    </button>
  </form>
    <button id="backToTopBtn" class="btn btn-secondary" style="position:fixed;bottom:20px;right:20px;display:none;">
    â†‘ Top
</button>

  <script>
    document.getElementById('toggleDarkMode').onclick = function () {
        document.body.classList.toggle('dark-mode');
    };
  </script>
 

  <script>
    const nicknameForm = document.getElementById("nicknameForm");
    const nicknameInput = document.getElementById("nicknameInput");
    const chatroom = document.getElementById("chatrooms");

    nicknameForm.addEventListener("submit", (e) => {
      e.preventDefault();
      if (nicknameInput.value) {
        localStorage.setItem("nickname", nicknameInput.value);
        localStorage.setItem("chatroom", chatroom.value);
        window.location.replace("/chat.html");
      }
    });
  </script>
  <script>
    // Show button when scrolling down
    window.onscroll = function() {
        document.getElementById("backToTopBtn").style.display = 
            document.documentElement.scrollTop > 100 ? "block" : "none";
    };

    // Scroll to top on button click
    document.getElementById("backToTopBtn").onclick = function () {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    };
</script>
  
<footer class="text-center mt-4 mb-2 text-muted">
    <small>âœ¨ Built by Amareshwar âœ¨</small>
</footer>

</body>

</html>
